<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab Virtual & Persiapan Formatif - Pertemuan 4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$']]
            },
            options: {
                enableMenu: false
            },
            svg: { fontCache: 'global' }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; scroll-behavior: smooth; }
        .canvas-container { position: relative; width: 100%; height: 400px; background: white; border-radius: 1rem; overflow: hidden; border: 1px solid #e2e8f0; }
        #inclineCanvas { width: 100%; height: 100%; }
        .control-panel { background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        input[type=range] { width: 100%; cursor: pointer; accent-color: #2563eb; }
        .section-card { background: white; padding: 2.5rem; border-radius: 1.5rem; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); margin-bottom: 2rem; border: 1px solid #f1f5f9; }
        .solution-content { display: none; }
        .solution-content.active { display: block; animation: slideDown 0.4s ease-out; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .nav-link { transition: all 0.3s ease; }
        .nav-link:hover { transform: translateY(-2px); }
        /* Mencegah MathJax membuat baris baru atau spasi aneh */
        mjx-container { display: inline-block !important; vertical-align: middle; margin: 0 !important; padding: 0 !important; }
        mjx-container[display="true"] { display: block !important; margin: 1em 0 !important; text-align: center; }
        p, li { line-height: 1.8; text-align: left; white-space: normal; }
    </style>
</head>
<body class="p-4 md:p-8 text-slate-800">
    <div class="max-w-6xl mx-auto">
        <nav class="mb-12 flex flex-wrap gap-3 justify-center sticky top-4 z-50">
            <a href="#simulator" class="nav-link px-5 py-2.5 bg-blue-600 text-white rounded-full text-sm font-bold shadow-xl hover:bg-blue-700 transition-all">Simulator</a>
            <a href="#materi" class="nav-link px-5 py-2.5 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-bold shadow-sm hover:bg-slate-50 transition-all">Materi</a>
            <a href="#contoh" class="nav-link px-5 py-2.5 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-bold shadow-sm hover:bg-slate-50 transition-all">Contoh</a>
            <a href="#latihan-mandiri" class="nav-link px-5 py-2.5 bg-white text-slate-600 border border-slate-200 rounded-full text-sm font-bold shadow-sm hover:bg-slate-50 transition-all">Latihan</a>
            <a href="#latihan-persiapan" class="nav-link px-5 py-2.5 bg-indigo-600 text-white rounded-full text-sm font-bold shadow-xl hover:bg-indigo-700 transition-all">Persiapan Formatif</a>
        </nav>

        <header class="mb-12 text-center" id="simulator">
            <div class="inline-block px-4 py-1.5 bg-blue-100 text-blue-700 rounded-full text-xs font-black uppercase tracking-widest mb-4">Pertemuan 4</div>
            <h1 class="text-4xl md:text-5xl font-black text-slate-900 mb-4 tracking-tight">Dinamika & Gaya Gesek</h1>
            <p class="text-slate-500 text-lg max-w-3xl mx-auto">Menganalisis gaya-gaya pada bidang miring melalui simulasi interaktif dan latihan terstruktur yang rapi.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8">
            <div class="lg:col-span-4 space-y-6">
                <div class="control-panel border-t-4 border-blue-600">
                    <h2 class="text-lg font-bold mb-6 flex items-center gap-2 text-slate-800"><i data-lucide="settings-2" class="text-blue-600"></i> Kontrol Simulator</h2>
                    <div class="space-y-6">
                        <div>
                            <div class="flex justify-between mb-2 text-sm font-bold text-slate-700"><label>Atur Posisi Awal ($x$)</label><span id="val-pos" class="text-indigo-600 font-mono text-xs">30%</span></div>
                            <input type="range" id="input-pos" min="0" max="100" value="30">
                        </div>
                        <div class="pt-4 border-t border-slate-100">
                            <div class="flex justify-between mb-2 text-sm font-bold text-slate-700"><label>Sudut Kemiringan ($\theta$)</label><span id="val-theta" class="text-blue-600 font-mono text-xs">30°</span></div>
                            <input type="range" id="input-theta" min="0" max="75" value="30">
                        </div>
                        <div>
                            <div class="flex justify-between mb-2 text-sm font-bold text-red-600"><label>Gaya Luar ($F_{ext}$)</label><span id="val-fext" class="font-mono text-xs text-red-500 font-bold">0 N</span></div>
                            <div class="flex items-center gap-2 text-[10px] text-slate-400 mb-1 font-mono uppercase text-center w-full">
                                <span class="flex-1 text-left">Tarik Atas (-)</span>
                                <span class="flex-1 text-right">Dorong Bawah (+)</span>
                            </div>
                            <input type="range" id="input-fext" min="-120" max="120" step="1" value="0">
                        </div>
                        <div class="pt-4 border-t border-slate-100">
                            <div class="flex justify-between mb-2 text-sm font-bold text-slate-700"><label>Massa Benda ($m$)</label><span id="val-mass" class="font-mono text-xs">2 kg</span></div>
                            <input type="range" id="input-mass" min="1" max="20" value="2">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label class="text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1">$\mu_s$ (Statik)</label><input type="range" id="input-mus" min="0" max="1" step="0.01" value="0.50"><span id="val-mus" class="text-xs font-mono">0.50</span></div>
                            <div><label class="text-[10px] font-bold text-orange-600 uppercase tracking-widest block mb-1">$\mu_k$ (Kinetik)</label><input type="range" id="input-muk" min="0" max="1" step="0.01" value="0.30"><span id="val-muk" class="text-xs font-mono">0.30</span></div>
                        </div>
                        <div class="flex gap-2 pt-2">
                            <button id="start-btn" class="flex-grow py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg"><i data-lucide="play" size="18" id="play-icon"></i> <span id="play-text">Mulai</span></button>
                            <button id="reset-btn" class="w-14 py-3 bg-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-300 flex items-center justify-center transition-all active:scale-95 shadow-md"><i data-lucide="rotate-ccw" size="18"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-8 space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="font-bold text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2"><i data-lucide="activity" class="text-blue-500"></i> Diagram Benda Bebas (FBD)</h2>
                        <span id="status-badge" class="px-4 py-1 rounded-full text-[10px] font-black uppercase bg-slate-100 text-slate-500 shadow-sm transition-colors tracking-tighter">Siap</span>
                    </div>
                    <div class="canvas-container shadow-inner bg-slate-50"><canvas id="inclineCanvas"></canvas></div>
                </div>

                <div class="grid grid-cols-2 lg:grid-cols-3 gap-3">
                    <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm text-center border-blue-100"><p class="text-[9px] text-slate-400 font-bold uppercase tracking-widest">$w_x$ (Grav)</p><p id="calc-wx" class="text-lg font-black text-blue-700">0 N</p></div>
                    <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm text-center border-red-100"><p class="text-[9px] text-slate-400 font-bold uppercase tracking-widest">$F_{ext}$ (Luar)</p><p id="calc-fext" class="text-lg font-black text-red-700">0 N</p></div>
                    <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm text-center border-emerald-100"><p class="text-[9px] text-slate-400 font-bold uppercase tracking-widest">$N$ (Normal)</p><p id="calc-normal" class="text-lg font-black text-emerald-700">0 N</p></div>
                    <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm text-center text-slate-700"><p class="text-[9px] text-slate-400 font-bold uppercase tracking-widest">$f_{s,max}$</p><p id="calc-fsmax" class="text-lg font-black">0 N</p></div>
                    <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm text-center border-orange-100"><p class="text-[9px] text-orange-400 font-bold uppercase tracking-widest">$f$ Aktif</p><p id="calc-factive" class="text-lg font-black text-orange-700">0 N</p></div>
                    <div class="bg-white p-4 rounded-xl border border-slate-100 shadow-sm text-center border-indigo-100"><p class="text-[9px] text-indigo-400 font-bold uppercase tracking-widest">$a$ ($m/s^2$)</p><p id="calc-acc" class="text-lg font-black text-indigo-700">0</p></div>
                </div>
            </div>
        </div>

        <div class="section-card border-l-8 border-slate-800 bg-slate-900 text-slate-300">
            <div class="flex items-center gap-3 mb-6"><i data-lucide="calculator" class="text-blue-400" size="24"></i><h2 class="text-xl font-black text-white uppercase tracking-tight">Analisis Dinamika Mendalam</h2></div>
            <div id="detailed-analysis-box" class="space-y-6 text-sm leading-relaxed"></div>
        </div>

        <!-- SECTION: MATERI -->
        <section id="materi" class="section-card border-l-8 border-blue-500">
            <h2 class="text-3xl font-black text-slate-900 mb-8 flex items-center gap-3"><i data-lucide="book-open" class="text-blue-600"></i> Materi Pembelajaran</h2>
            <div class="text-slate-600 text-lg">
                <p>Ketika sebuah benda diletakkan di atas bidang miring yang membentuk sudut $\theta$ terhadap bidang horizontal, gaya berat benda tidak lagi tegak lurus terhadap permukaannya. Hal ini mengharuskan kita untuk menguraikan gaya berat tersebut menjadi dua komponen utama yang saling tegak lurus sesuai dengan arah sumbu koordinat bidang miring tersebut.</p>
                <div class="grid md:grid-cols-2 gap-6 my-8 bg-slate-50 p-6 rounded-2xl border border-slate-100 text-center text-slate-900">
                    <div><h4 class="font-bold text-indigo-700 mb-2 uppercase text-xs">1. Komponen Sejajar Bidang ($w_x$)</h4><p class="text-sm">Gaya ini bekerja sejajar dengan permukaan miring dan menarik benda meluncur ke arah dasar.</p><p class="text-2xl font-black mt-2 text-indigo-900">$$w_x = m \cdot g \cdot \sin \theta$$</p></div>
                    <div><h4 class="font-bold text-indigo-700 mb-2 uppercase text-xs">2. Komponen Tegak Lurus ($w_y$)</h4><p class="text-sm">Gaya ini menekan permukaan bidang secara tegak lurus. Besarnya sama dengan Gaya Normal ($N$).</p><p class="text-2xl font-black mt-2 text-indigo-900">$$N = w_y = m \cdot g \cdot \cos \theta$$</p></div>
                </div>
                <h3 class="text-2xl font-black text-slate-900 mb-4">Interaksi dengan Gaya Gesek</h3>
                <p>Gaya gesek ($f$) adalah gaya hambat yang arahnya selalu berlawanan dengan arah kecenderungan gerak benda. Terdapat dua jenis gaya gesek utama yang perlu diperhatikan:</p>
                <ul class="list-disc pl-6 space-y-3 mb-6 font-medium">
                    <li><strong>Gaya Gesek Statis ($f_s$):</strong> Bekerja selama benda masih diam untuk menyeimbangkan gaya pendorong. Batas maksimalnya adalah $f_{s,max} = \mu_s \cdot N$.</li>
                    <li><strong>Gaya Gesek Kinetik ($f_k$):</strong> Bekerja saat benda sudah mulai bergerak dengan nilai konstan $f_k = \mu_k \cdot N$.</li>
                </ul>
            </div>
        </section>

        <!-- SECTION: CONTOH SOAL -->
        <section id="contoh" class="section-card border-l-8 border-emerald-500 text-slate-700">
            <h2 class="text-3xl font-black text-slate-900 mb-8 flex items-center gap-3"><i data-lucide="lightbulb" class="text-emerald-600"></i> Contoh Soal (3 Model)</h2>
            <div class="space-y-6">
                <div class="p-6 bg-emerald-50 rounded-2xl border border-emerald-100 shadow-sm">
                    <span class="px-2 py-1 bg-emerald-600 text-white text-[10px] font-bold rounded mb-2 inline-block uppercase tracking-widest">Model 1: Penentuan Status Gerak</span>
                    <p>Sebuah balok bermassa $5$ kg diletakkan pada bidang miring dengan sudut $30^\circ$. Jika koefisien gesek statisnya $\mu_s = 0,6$, apakah benda tersebut meluncur?</p>
                    <button onclick="toggleSolution('sol-c1')" class="text-xs font-black text-emerald-600 flex items-center gap-1 hover:underline mt-4"><i data-lucide="eye" size="14"></i> Lihat Analisis</button>
                    <div id="sol-c1" class="solution-content mt-4 p-5 bg-white rounded-xl border border-emerald-100 text-sm space-y-2">
                        <p>1. Gaya penggerak ($w_x$): $5 \cdot 10 \cdot \sin 30^\circ = 25$ N.</p>
                        <p>2. Gaya Normal ($N$): $5 \cdot 10 \cdot \cos 30^\circ = 43,3$ N.</p>
                        <p>3. Ambang batas gesek ($f_{s,max}$): $0,6 \cdot 43,3 = 25,98$ N.</p>
                        <p class="font-bold text-emerald-700">Hasil: Benda DIAM karena gaya penggerak ($25$ N) lebih kecil dari ambang batas ($25,98$ N).</p>
                    </div>
                </div>
                <div class="p-6 bg-blue-50 rounded-2xl border border-blue-100 shadow-sm">
                    <span class="px-2 py-1 bg-blue-600 text-white text-[10px] font-bold rounded mb-2 inline-block uppercase tracking-widest">Model 2: Menghitung Percepatan</span>
                    <p>Balok $2$ kg meluncur pada bidang miring bersudut $45^\circ$. Jika diketahui $\mu_k = 0,2$, tentukan percepatan benda!</p>
                    <button onclick="toggleSolution('sol-c2')" class="text-xs font-black text-blue-600 flex items-center gap-1 hover:underline mt-4"><i data-lucide="eye" size="14"></i> Lihat Analisis</button>
                    <div id="sol-c2" class="solution-content mt-4 p-5 bg-white rounded-xl border border-blue-100 text-sm space-y-2">
                        <p>1. Komponen berat: $w_x = 2 \cdot 10 \cdot 0,7 = 14$ N.</p>
                        <p>2. Gaya Normal: $N = 2 \cdot 10 \cdot 0,7 = 14$ N.</p>
                        <p>3. Gesekan kinetik: $f_k = 0,2 \cdot 14 = 2,8$ N.</p>
                        <p>4. Percepatan: $a = (14 - 2,8) / 2 = 5,6 \, m/s^2$.</p>
                    </div>
                </div>
                <div class="p-6 bg-orange-50 rounded-2xl border border-orange-100 shadow-sm">
                    <span class="px-2 py-1 bg-orange-600 text-white text-[10px] font-bold rounded mb-2 inline-block uppercase tracking-widest">Model 3: Sudut Kritis</span>
                    <p>Berapakah sudut kemiringan minimal agar benda tepat mulai bergerak meluncur jika koefisien gesek statisnya $\mu_s = 0,75$?</p>
                    <button onclick="toggleSolution('sol-c3')" class="text-xs font-black text-orange-600 flex items-center gap-1 hover:underline mt-4"><i data-lucide="eye" size="14"></i> Lihat Analisis</button>
                    <div id="sol-c3" class="solution-content mt-4 p-5 bg-white rounded-xl border border-orange-100 text-sm space-y-2">
                        <p>Benda tepat akan bergerak ketika $w_x = f_{s,max}$. Melalui penguraian gaya, ini terjadi saat $\tan \theta = \mu_s$. Maka $\tan \theta = 0,75$ sehingga diperoleh $\theta = \arctan(0,75) = 37^\circ$.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: LATIHAN MANDIRI -->
        <section id="latihan-mandiri" class="section-card border-l-8 border-red-500 text-slate-700">
            <h2 class="text-3xl font-black text-slate-900 mb-8 flex items-center gap-3"><i data-lucide="pencil" class="text-red-600"></i> Latihan Mandiri</h2>
            <div class="grid gap-6">
                <div class="p-6 bg-slate-50 rounded-xl border border-slate-200">
                    <p class="font-semibold mb-3 text-sm">1. Sebuah balok $10$ kg berada pada bidang miring bersudut $30^\circ$ dan $\mu_s = 0,4$. Berapakah gaya gesek statis yang menahan benda saat diam?</p>
                    <button onclick="toggleSolution('sol-l1')" class="text-[10px] font-black text-red-600 uppercase hover:underline">Lihat Hasil</button>
                    <div id="sol-l1" class="solution-content mt-4 p-4 bg-white border border-red-100 rounded-xl text-xs leading-relaxed">
                        <p>Hitung $w_x = 50$ N dan $f_{s,max} = 34,6$ N. Karena $w_x > f_{s,max}$, benda sebenarnya bergerak. Gaya gesek yang bekerja adalah kinetik.</p>
                    </div>
                </div>
                <div class="p-6 bg-slate-50 rounded-xl border border-slate-200">
                    <p class="font-semibold mb-3 text-sm">2. Tentukan percepatan balok bermassa $4$ kg yang meluncur pada bidang miring licin (tanpa gesekan) dengan sudut $37^\circ$ ($\sin 37 = 0,6$).</p>
                    <button onclick="toggleSolution('sol-l2')" class="text-[10px] font-black text-red-600 uppercase hover:underline">Lihat Hasil</button>
                    <div id="sol-l2" class="solution-content mt-4 p-4 bg-white border border-red-100 rounded-xl text-xs leading-relaxed">
                        <p>Karena licin, $a = g \cdot \sin \theta = 10 \cdot 0,6 = 6 \, m/s^2$.</p>
                    </div>
                </div>
                <div class="p-6 bg-slate-50 rounded-xl border border-slate-200">
                    <p class="font-semibold mb-3 text-sm">3. Jika benda bermassa $2$ kg ditarik ke puncak dengan gaya $F = 20$ N pada sudut $30^\circ$, berapakah percepatannya jika $\mu_k = 0,2$?</p>
                    <button onclick="toggleSolution('sol-l3')" class="text-[10px] font-black text-red-600 uppercase hover:underline">Lihat Hasil</button>
                    <div id="sol-l3" class="solution-content mt-4 p-4 bg-white border border-red-100 rounded-xl text-xs leading-relaxed">
                        <p>$w_x = 10$ N. $f_k = 3,46$ N. $\sum F = 20 - 10 - 3,46 = 6,54$ N. $a = 6,54 / 2 = 3,27 \, m/s^2$.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: PERSIAPAN FORMATIF -->
        <section id="latihan-persiapan" class="section-card border-t-8 border-indigo-600 bg-slate-50">
            <div class="mb-10 text-center">
                <h2 class="text-3xl md:text-4xl font-black text-slate-900 flex items-center justify-center gap-4"><i data-lucide="graduation-cap" class="text-indigo-600" size="40"></i> Latihan Persiapan Formatif 1</h2>
                <p class="text-slate-500 mt-2 font-medium italic">Evaluasi mandiri materi Dinamika Gerak (Gunakan $g = 10 \, m/s^2$).</p>
            </div>

            <!-- KUMPULAN RUMUS -->
            <div class="mb-12 p-8 bg-white rounded-3xl border-2 border-indigo-100 shadow-md relative overflow-hidden">
                <h3 class="text-xl font-black text-indigo-900 mb-6 flex items-center gap-3 relative"><i data-lucide="book-marked" size="24" class="text-indigo-600"></i> Kumpulan Rumus Penting</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 relative text-slate-700">
                    <div class="p-4 bg-slate-50 rounded-2xl border border-slate-100"><p class="text-[10px] font-black text-indigo-600 uppercase mb-2 tracking-widest">Hukum Newton</p><p class="text-sm font-medium">Hukum I: $\sum F = 0$</p><p class="text-sm font-medium">Hukum II: $\sum F = m \cdot a$</p><p class="text-sm font-medium">Hukum III: $F_{aksi} = -F_{reaksi}$</p></div>
                    <div class="p-4 bg-slate-50 rounded-2xl border border-slate-100"><p class="text-[10px] font-black text-indigo-600 uppercase mb-2 tracking-widest">Komponen Gaya</p><p class="text-sm font-medium">$w_x = m \cdot g \cdot \sin \theta$</p><p class="text-sm font-medium">$N = m \cdot g \cdot \cos \theta$</p><p class="text-sm font-medium">$w = m \cdot g$</p></div>
                    <div class="p-4 bg-slate-50 rounded-2xl border border-slate-100"><p class="text-[10px] font-black text-indigo-600 uppercase mb-2 tracking-widest">Gaya Gesek</p><p class="text-sm font-medium">Statis: $f_{s,max} = \mu_s \cdot N$</p><p class="text-sm font-medium">Kinetik: $f_k = \mu_k \cdot N$</p><p class="text-sm font-medium">Percepatan: $a = \sum F / m$</p></div>
                </div>
            </div>

            <!-- Daftar Soal Persiapan Formatif -->
            <div class="space-y-12">
                <div class="p-8 bg-white rounded-3xl shadow-sm border border-slate-200">
                    <h4 class="font-black text-slate-900 text-lg uppercase tracking-tight mb-4 text-left">Soal 1: Perjalanan Bus Deni</h4>
                    <p class="text-slate-700 leading-relaxed text-left">Deni sedang berdiri di dalam bus yang melaju dengan kecepatan tetap $60$ km/jam. Tiba-tiba, bus mengerem mendadak sehingga tubuh Deni terdorong ke depan dengan keras. Deni segera memegang erat tiang besi bus untuk menahan diri, namun ia merasakan tangannya sakit seolah tiang menarik balik tangannya.</p>
                    <div class="grid md:grid-cols-2 gap-6 my-6 text-slate-700">
                        <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100"><p class="font-bold text-xs text-indigo-700 uppercase mb-2 tracking-widest text-left">Pertanyaan A</p><p class="text-sm leading-relaxed text-left">Jelaskan mengapa tubuh Deni secara alami cenderung terdorong ke depan berdasarkan Hukum I Newton saat bus berhenti mendadak!</p></div>
                        <div class="p-5 bg-slate-50 rounded-2xl border border-slate-100"><p class="font-bold text-xs text-indigo-700 uppercase mb-2 tracking-widest text-left">Pertanyaan B</p><p class="text-sm leading-relaxed text-left">Jelaskan kaitan fenomena rasa sakit pada tangan Deni saat memegang tiang dengan prinsip Hukum III Newton!</p></div>
                    </div>
                    <button onclick="toggleSolution('sol-f1')" class="text-sm font-black text-indigo-600 flex items-center gap-2 hover:translate-x-1 transition-all"><i data-lucide="chevron-right" size="18"></i> Lihat Pembahasan</button>
                    <div id="sol-f1" class="solution-content mt-6 p-6 bg-indigo-50 rounded-2xl text-sm space-y-4 text-slate-700 leading-relaxed text-left">
                        <p><strong>A:</strong> Berdasarkan Hukum I Newton (Inersia), setiap benda cenderung mempertahankan keadaan geraknya. Karena tubuh Deni awalnya bergerak maju mengikuti bus, saat bus berhenti mendadak, tubuh Deni tetap ingin mempertahankan gerak maju tersebut.</p>
                        <p><strong>B:</strong> Sesuai Hukum III Newton (Aksi-Reaksi), saat tangan Deni memberikan gaya tarik pada tiang (Aksi), tiang secara otomatis memberikan gaya balik yang besarnya sama namun berlawanan arah pada tangan Deni (Reaksi). Gaya reaksi inilah yang dirasakan tangan Deni sebagai rasa sakit.</p>
                    </div>
                </div>

                <div class="p-8 bg-white rounded-3xl shadow-sm border border-slate-200">
                    <h4 class="font-black text-slate-900 text-lg uppercase tracking-tight mb-4">Soal 2: Ekspedisi Peti Logistik Raka</h4>
                    <p class="text-slate-700 leading-relaxed text-left">Raka harus memindahkan peti logistik bermassa $50$ kg. Peti tersebut berada di atas lantai yang sangat licin sehingga gesekan dapat diabaikan. Raka mendorong peti tersebut dengan gaya horizontal konstan sebesar $150$ N. Berapakah percepatan yang dialami oleh peti logistik tersebut?</p>
                    <button onclick="toggleSolution('sol-f2')" class="text-sm font-black text-indigo-600 flex items-center gap-2 hover:translate-x-1 transition-all mt-4"><i data-lucide="chevron-right" size="18"></i> Lihat Pembahasan</button>
                    <div id="sol-f2" class="solution-content mt-6 p-6 bg-indigo-50 rounded-2xl text-sm text-slate-700 leading-relaxed text-left font-medium">
                        <p>Gunakan Hukum II Newton: $\sum F = m \cdot a$. Dengan memasukkan nilai gaya dorong $F = 150 \text{ N}$ dan massa benda $m = 50 \text{ kg}$, maka diperoleh hasil perhitungan percepatan $a = 150 / 50 = 3 \text{ m/s}^2$.</p>
                    </div>
                </div>

                <div class="p-8 bg-white rounded-3xl shadow-sm border border-slate-200">
                    <h4 class="font-black text-slate-900 text-lg uppercase tracking-tight mb-4">Soal 3: Tantangan Memindah Lemari Siska</h4>
                    <p class="text-slate-700 leading-relaxed text-left">Siska menggeser lemari pakaian bermassa $60$ kg di kamarnya. Lantai tersebut memiliki koefisien gesek statis $\mu_s = 0,4$. Jika Siska mencoba mendorong lemari sendirian dengan gaya horizontal sebesar $200$ N, buktikan melalui perhitungan apakah lemari tersebut berhasil bergerak atau tetap diam!</p>
                    <button onclick="toggleSolution('sol-f3')" class="text-sm font-black text-indigo-600 flex items-center gap-2 hover:translate-x-1 transition-all mt-4"><i data-lucide="chevron-right" size="18"></i> Lihat Pembahasan</button>
                    <div id="sol-f3" class="solution-content mt-6 p-6 bg-indigo-50 rounded-2xl text-sm space-y-4 text-slate-700 leading-relaxed text-left">
                        <p>1. Hitung Gaya Normal: $N = m \cdot g = 60 \cdot 10 = 600$ N. 2. Hitung Ambang Batas Gesek Statis: $f_{s,max} = \mu_s \cdot N = 0,4 \cdot 600 = 240$ N. 3. Analisis: Karena gaya dorong Siska ($200$ N) lebih kecil dari ambang batas gesek statis ($240$ N), maka lemari tersebut tetap DIAM.</p>
                    </div>
                </div>

                <div class="p-8 bg-white rounded-3xl shadow-sm border border-slate-200">
                    <h4 class="font-black text-slate-900 text-lg uppercase tracking-tight mb-4 text-left">Soal 4: Eksperimen Balok Kayu</h4>
                    <p class="text-slate-700 leading-relaxed text-left">Seorang siswa menarik balok kayu bermassa $4$ kg di atas meja yang kasar. Diketahui koefisien gesek kinetik antara balok dan meja adalah $\mu_k = 0,25$. Jika siswa tersebut menarik balok dengan gaya horizontal tetap sebesar $20$ N, tentukan percepatan yang dialami balok kayu tersebut selama bergerak!</p>
                    <button onclick="toggleSolution('sol-f4')" class="text-sm font-black text-indigo-600 flex items-center gap-2 hover:translate-x-1 transition-all mt-4"><i data-lucide="chevron-right" size="18"></i> Lihat Pembahasan</button>
                    <div id="sol-f4" class="solution-content mt-6 p-6 bg-indigo-50 rounded-2xl text-sm space-y-4 text-slate-700 leading-relaxed text-left">
                        <p>1. Gaya Normal: $N = m \cdot g = 4 \cdot 10 = 40$ N. 2. Gaya Gesek Kinetik: $f_k = \mu_k \cdot N = 0,25 \cdot 40 = 10$ N. 3. Resultan Gaya Netto: $\sum F = 20 - 10 = 10$ N. 4. Percepatan Sistem: $a = 10 / 4 = 2,5 \text{ m/s}^2$.</p>
                    </div>
                </div>

                <div class="p-8 bg-white rounded-3xl shadow-sm border border-slate-200">
                    <h4 class="font-black text-slate-900 text-lg uppercase tracking-tight mb-4 text-left">Soal 5: Kerjasama Mobil Mogok</h4>
                    <p class="text-slate-700 leading-relaxed text-left">Sebuah mobil bermassa $1200$ kg mogok di tengah jalan. Andi mendorong dengan gaya $500$ N dan Budi membantu dengan gaya $400$ N searah. Jika jalanan memberikan gaya gesek kinetik sebesar $300$ N, tentukan percepatan yang dialami mobil!</p>
                    <button onclick="toggleSolution('sol-f5')" class="text-sm font-black text-indigo-600 flex items-center gap-2 hover:translate-x-1 transition-all mt-4"><i data-lucide="chevron-right" size="18"></i> Lihat Pembahasan</button>
                    <div id="sol-f5" class="solution-content mt-6 p-6 bg-indigo-50 rounded-2xl text-sm space-y-4 text-slate-700 leading-relaxed text-left">
                        <p>1. Gaya Dorong Total: $500 + 400 = 900$ N. 2. Resultan Bersih: $\sum F = 900 - 300 = 600$ N. 3. Percepatan: $a = 600 / 1200 = 0,5 \text{ m/s}^2$.</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-16 p-8 bg-slate-900 rounded-[2.5rem] shadow-2xl text-slate-300">
                <h3 class="text-white font-black text-xl mb-6 flex items-center gap-3"><i data-lucide="award" class="text-orange-400"></i> Pedoman Penskoran</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left">
                    <div class="p-4 bg-white/5 rounded-2xl border border-white/10 text-xs">Poin 5: Menuliskan variabel Diketahui dan Ditanya dengan benar dan lengkap sesuai soal.</div>
                    <div class="p-4 bg-white/5 rounded-2xl border border-white/10 text-xs">Poin 10: Menggunakan rumus yang tepat dan menunjukkan proses perhitungan secara logis.</div>
                    <div class="p-4 bg-white/5 rounded-2xl border border-white/10 text-xs">Poin 5: Memberikan jawaban akhir yang benar disertai satuan fisika yang tepat.</div>
                </div>
            </div>
        </section>

        <footer class="mt-12 text-center text-slate-400 text-xs pb-16">&copy; 2024 Lab Fisika SMA SLH Plus &bull; Geraldo Rumapea, S.Pd.</footer>
    </div>

    <script>
        const state = { theta: 30, mass: 2, fext: 0, mus: 0.50, muk: 0.30, g: 10, pos: 30, vel: 0, isMoving: false, isRunning: false, lastTime: 0 };
        let canvas, ctx, inputs, displays;

        function initElements() {
            canvas = document.getElementById('inclineCanvas'); ctx = canvas.getContext('2d');
            inputs = { theta: document.getElementById('input-theta'), mass: document.getElementById('input-mass'), fext: document.getElementById('input-fext'), pos: document.getElementById('input-pos'), mus: document.getElementById('input-mus'), muk: document.getElementById('input-muk') };
            displays = { theta: document.getElementById('val-theta'), mass: document.getElementById('val-mass'), fext: document.getElementById('val-fext'), pos: document.getElementById('val-pos'), mus: document.getElementById('val-mus'), muk: document.getElementById('val-muk'), wx: document.getElementById('calc-wx'), fextCalc: document.getElementById('calc-fext'), normal: document.getElementById('calc-normal'), fsmax: document.getElementById('calc-fsmax'), factive: document.getElementById('calc-factive'), acc: document.getElementById('calc-acc'), status: document.getElementById('status-badge'), logic: document.getElementById('logic-box'), playIcon: document.getElementById('play-icon'), playText: document.getElementById('play-text'), startBtn: document.getElementById('start-btn'), detailedAnalysis: document.getElementById('detailed-analysis-box') };
        }

        function toggleSolution(id) { const el = document.getElementById(id); if (el) el.classList.toggle('active'); }

        function calculatePhysics() {
            if (!displays) return { a: 0, statusText: "Siap" };
            const rad = state.theta * (Math.PI / 180);
            const wx = state.mass * state.g * Math.sin(rad); 
            const N = state.mass * state.g * Math.cos(rad);
            const fsMax = state.mus * N;
            const fk = state.muk * N;
            const driveForce = -state.fext - wx; 
            
            let a = 0, fFriction = 0, statusText = "Diam"; 

            if (!state.isMoving) {
                if (Math.abs(driveForce) > fsMax + 0.05) { 
                    if (state.isRunning) state.isMoving = true;
                    statusText = driveForce > 0 ? "Mulai Tertarik" : "Mulai Meluncur";
                    fFriction = -Math.sign(driveForce) * fk;
                } else {
                    statusText = Math.abs(driveForce) < 0.2 ? "Diam" : (driveForce > 0 ? "Diam (Cenderung Naik)" : "Diam (Cenderung Turun)");
                    fFriction = -driveForce; a = 0;
                }
            } else {
                const moveDir = state.vel === 0 ? Math.sign(driveForce) : Math.sign(state.vel);
                fFriction = -moveDir * fk;
                const netForce = driveForce + fFriction;
                a = netForce / state.mass;
                if (state.isRunning && Math.abs(state.vel) < 0.01 && Math.abs(driveForce) <= fsMax) {
                    a = 0; state.vel = 0; state.isMoving = false;
                    statusText = "Berhenti";
                } else {
                    statusText = moveDir > 0 ? "Tertarik ke Atas" : "Meluncur ke Bawah";
                }
            }

            displays.wx.innerText = wx.toFixed(1) + " N";
            displays.fextCalc.innerText = Math.abs(state.fext).toFixed(1) + " N";
            displays.normal.innerText = N.toFixed(1) + " N";
            displays.fsmax.innerText = fsMax.toFixed(1) + " N";
            displays.factive.innerText = Math.abs(fFriction).toFixed(1) + " N";
            displays.acc.innerText = a.toFixed(2);
            displays.status.innerText = statusText;

            let html = `<div><strong class="text-blue-400">Langkah 1: Analisis Gaya Penggerak</strong><br>Gaya berat sejajar bidang ($w_x$): $m \\cdot g \\cdot \\sin(${state.theta}^\\circ) = ${wx.toFixed(1)}$ N (arah ke dasar).<br>Gaya luar ($F_{ext}$): ${state.fext.toFixed(1)} N.<br>Resultan penggerak ($F_{drive}$): $${driveForce.toFixed(1)}$ N.</div>`;
            html += `<div><strong class="text-emerald-400">Langkah 2: Menentukan Hambatan</strong><br>Gaya Normal ($N$): $${N.toFixed(1)}$ N. Gaya gesek statis maksimum ($f_{s,max}$): $${fsMax.toFixed(1)}$ N.</div>`;
            const isEscaped = Math.abs(driveForce) > fsMax;
            html += `<div><strong class="text-orange-400">Langkah 3: Kesimpulan Kondisi</strong><br>Kondisi gerak: <strong class="text-white">${isEscaped ? 'BERGERAK' : 'DIAM'}</strong>. Percepatan sistem ($a$): $${a.toFixed(2)}$ $m/s^2$.</div>`;
            displays.detailedAnalysis.innerHTML = html;
            if (window.MathJax && window.MathJax.typesetPromise) window.MathJax.typesetPromise([displays.detailedAnalysis]);
            return { a, statusText, fFriction };
        }

        function draw() {
            if (!canvas || !ctx) return;
            if (canvas.width !== canvas.clientWidth) { canvas.width = canvas.clientWidth; canvas.height = canvas.clientHeight; }
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const rad = state.theta * (Math.PI / 180);
            const startX = 100, startY = canvas.height - 80, length = canvas.width - 200, endX = startX + length, endY = startY - length * Math.tan(rad);
            ctx.beginPath(); ctx.strokeStyle = "#cbd5e1"; ctx.setLineDash([5, 5]); ctx.moveTo(startX, startY); ctx.lineTo(endX + 50, startY); ctx.stroke(); ctx.setLineDash([]);
            ctx.beginPath(); ctx.strokeStyle = "#1e293b"; ctx.lineWidth = 6; ctx.moveTo(startX, startY); ctx.lineTo(endX, endY); ctx.stroke();
            ctx.fillStyle = "#1e293b"; ctx.font = "bold 11px Inter"; ctx.textAlign = "center"; ctx.fillText("DASAR", startX, startY + 30); ctx.fillText("PUNCAK", endX, endY - 20);
            const size = 50; const trackLen = length - size;
            const bx = startX + (state.pos / 100) * trackLen * Math.cos(rad), by = startY - (state.pos / 100) * trackLen * Math.sin(rad);
            ctx.save(); ctx.translate(bx, by); ctx.rotate(-rad);
            ctx.fillStyle = "#2563eb"; ctx.fillRect(0, -size, size, size); ctx.strokeStyle = "#1d4ed8"; ctx.lineWidth = 2; ctx.strokeRect(0, -size, size, size);
            const physics = calculatePhysics();
            ctx.fillStyle = "#1e293b"; ctx.font = "bold 11px Inter"; ctx.textAlign = "center"; ctx.fillText(physics.statusText, size/2, -size - 55);
            drawArrow(0, -size/2, -35, -size/2, "#60a5fa", "wx");
            if (state.fext !== 0) { const len = (state.fext / 120) * 80; if (state.fext < 0) drawArrow(size, -size/4, size + Math.abs(len), -size/4, "#ef4444", "Fext"); else drawArrow(0, -size/4, -len, -size/4, "#ef4444", "Fext"); }
            if (Math.abs(physics.fFriction) > 0.1) { const fDir = Math.sign(physics.fFriction); drawArrow(fDir > 0 ? 0 : size, -size/1.2, (fDir > 0 ? 0 : size) + (fDir * 35), -size/1.2, "#f97316", "f"); }
            ctx.restore();
        }

        function drawArrow(x1, y1, x2, y2, color, label) {
            const headlen = 8, angle = Math.atan2(y2 - y1, x2 - x1);
            ctx.beginPath(); ctx.moveTo(x1, y1); ctx.lineTo(x2, y2); ctx.strokeStyle = color; ctx.lineWidth = 3; ctx.stroke();
            ctx.beginPath(); ctx.moveTo(x2, y2); ctx.lineTo(x2 - headlen * Math.cos(angle - Math.PI / 6), y2 - headlen * Math.sin(angle - Math.PI / 6)); ctx.lineTo(x2 - headlen * Math.cos(angle + Math.PI / 6), y2 - headlen * Math.sin(angle + Math.PI / 6)); ctx.closePath(); ctx.fillStyle = color; ctx.fill();
            ctx.fillStyle = color; ctx.font = "bold 9px Inter"; ctx.fillText(label, x2 + 5, y2);
        }

        function loop(timestamp) {
            const dt = (timestamp - state.lastTime) / 1000 || 0; state.lastTime = timestamp;
            const p = calculatePhysics();
            if (state.isRunning && state.isMoving) { 
                state.vel += p.a * dt; 
                const trackPix = (canvas.width - 200 - 50);
                const deltaPos = (state.vel * 100 * dt / trackPix) * 100; 
                state.pos += deltaPos;
                if (state.pos <= 0) { state.pos = 0; state.vel = 0; state.isMoving = false; }
                if (state.pos >= 100) { state.pos = 100; state.vel = 0; state.isMoving = false; }
            }
            draw(); requestAnimationFrame(loop);
        }

        window.onload = () => { 
            initElements();
            if (typeof lucide !== 'undefined') lucide.createIcons(); 
            inputs.pos.addEventListener('input', (e) => { state.pos = parseInt(e.target.value); displays.pos.innerText = state.pos + "%"; state.vel = 0; state.isMoving = false; });
            inputs.theta.addEventListener('input', (e) => { state.theta = parseInt(e.target.value); displays.theta.innerText = state.theta + "°"; });
            inputs.mass.addEventListener('input', (e) => { state.mass = parseInt(e.target.value); displays.mass.innerText = state.mass + " kg"; });
            inputs.fext.addEventListener('input', (e) => { state.fext = parseInt(e.target.value); displays.fext.innerText = state.fext + " N"; });
            inputs.mus.addEventListener('input', (e) => { state.mus = parseFloat(e.target.value); displays.mus.innerText = state.mus.toFixed(2); });
            inputs.muk.addEventListener('input', (e) => { state.muk = parseFloat(e.target.value); displays.muk.innerText = state.muk.toFixed(2); });
            displays.startBtn.addEventListener('click', () => {
                state.isRunning = !state.isRunning;
                if (state.isRunning) { displays.playIcon.setAttribute('data-lucide', 'pause'); displays.playText.innerText = "Jeda"; displays.startBtn.classList.replace('bg-blue-600', 'bg-orange-600'); }
                else { displays.playIcon.setAttribute('data-lucide', 'play'); displays.playText.innerText = "Lanjut"; displays.startBtn.classList.replace('bg-orange-600', 'bg-blue-600'); }
                lucide.createIcons();
            });
            document.getElementById('reset-btn').addEventListener('click', () => { state.vel = 0; state.isMoving = false; state.isRunning = false; state.pos = parseInt(inputs.pos.value); displays.playIcon.setAttribute('data-lucide', 'play'); displays.playText.innerText = "Mulai"; displays.startBtn.classList.replace('bg-orange-600', 'bg-blue-600'); lucide.createIcons(); });
            requestAnimationFrame(loop); 
        };
    </script>
</body>
</html>